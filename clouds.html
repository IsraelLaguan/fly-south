<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="origin-trial">
<title>FlySouth</title>
<script src="node_modules/aframe/dist/aframe-master.js"></script>
<body class="a-body ">
<a-scene class="fullscreen" canvas vr-mode-ui fog="type: exponential; color: #555; density: 0.01;">
    <a-assets>
        <a-plane id="street" material="color:#333;"></a-plane>
        <a-box id="building" material="color:#a1b7dc; metalness:0.3;"></a-box>
        <a-sphere id="cloud" opacity="0.4" material="shader: standard; color: #fff" transparent="true"></a-sphere>
    </a-assets>

    <a-entity id="world">
        <a-entity id="streets"></a-entity>
        <a-entity id="buildings"></a-entity>
    </a-entity>

    <a-entity position="0 10 0" id="player">
        <a-camera id="camera" far="10000"></a-camera>

        <a-entity position="0 -6 0" rotation="0 45 0" id="clouds"></a-entity>
    </a-entity>

    <a-sky material="shader: flat; color: #001848; fog: false" geometry="radius: 5000" segments-height="2" segments-width="4"></a-sky>
    <a-circle id="moon" position="3000 700 0" rotation="10 -90 0" geometry="radius: 250" material="shader: flat; color: #ddd; fog: false"></a-circle>
    <a-light position="5 5 0" light="color: #fff; intensity: 1; type: directional"></a-light>
</a-scene>
<script>
'use strict';

var clouds = document.getElementById('clouds');

for(let i = 0; i < 100; i++) {
    const asset_cloud = document.getElementById('cloud');
    const cloud = asset_cloud.cloneNode(true);
    const pos =  {
        x: Math.random() * 200,
        y: Math.random() * 2,
        z: Math.random() * 80,
    };
    const rot = {
        x: Math.random() * 20,
        y: Math.random() * 360,
        z: 0,
    };
    cloud.setAttribute('position', pos);
    cloud.setAttribute('rotation', rot);
    cloud.setAttribute('scale', {
        x: Math.random() * 20 + 2,
        y: Math.random() * 2 + 1,
        z: Math.random() * 20 + 2,
    });
    clouds.appendChild(cloud);
}

</script>
</body></html>
